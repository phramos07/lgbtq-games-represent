<!DOCTYPE html>
<meta charset="utf-8">
<style>
body {
  font: 10px sans-serif;
}

svg text{
  fill:grey;
  font-size:11px;
}
svg .values text{
  pointer-events:none;
  stroke-width: 0.5px;
}
.groups:hover{
  cursor:pointer;
  font-weight:bold;
}
</style>
<body>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="http://vizjs.org/viz.v1.1.0.min.js"></script>
<script>

var data = [
['Lesbian', 'Gay',72],
['Lesbian', 'Bisexual',33],
['Lesbian', 'Trans',9],
['Lesbian', 'Non-binary',8],
['Lesbian', 'Non-conforming',2],
['Gay', 'Lesbian',72],
['Gay', 'Bisexual',61],
['Gay', 'Trans',29],
['Gay', 'Non-binary',9],
['Gay', 'Non-conforming',2],
['Bisexual', 'Lesbian',33],
['Bisexual', 'Gay',61],
['Bisexual', 'Trans',22],
['Bisexual', 'Non-binary',28],
['Bisexual', 'Non-conforming',14],
['Trans', 'Lesbian',9],
['Trans', 'Gay',29],
['Trans', 'Bisexual',22],
['Trans', 'Non-binary',2],
['Trans', 'Non-conforming',1],
['Non-binary', 'Lesbian',8],
['Non-binary', 'Gay',9],
['Non-binary', 'Bisexual',28],
['Non-binary', 'Trans',2],
['Non-binary', 'Non-conforming',2],
['Non-conforming', 'Lesbian',2],
['Non-conforming', 'Gay',2],
['Non-conforming', 'Bisexual',14],
['Non-conforming', 'Non-binary',2],
['Non-conforming', 'Trans',1]
];

var colors = {
"Lesbian":         "#da4480"
,"Gay":    "#5ab449"
,"Bisexual":    "#7f5acd"
,"Trans":        "#aab740"
,"Non-binary": "#ce58c0"
,"Non-conforming":        "#50a26e"
};

var sortOrder =[
"Bisexual"
,"Gay"
,"Lesbian"
,"Non-binary"
,"Non-conforming"
,"Trans"
];

function sort(a,b){ return d3.ascending(sortOrder.indexOf(a),sortOrder.indexOf(b)); }

var ch = viz.ch().data(data)
      .padding(.01)
      .sort(sort)
	  .innerRadius(430)
	  .outerRadius(450)
	  .duration(1000)
	  .chordOpacity(0.3)
	  .labelPadding(.03)
      .fill(function(d){ return colors[d];});

var width=1200, height=1100;

var svg = d3.select("body").append("svg").attr("height",height).attr("width",width);

svg.append("g").attr("transform", "translate(600,550)").call(ch);

// adjust height of frame in bl.ocks.org
d3.select(self.frameElement).style("height", height+"px").style("width", width+"px");     
</script>
